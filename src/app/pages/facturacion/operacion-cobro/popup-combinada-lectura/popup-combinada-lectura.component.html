<div >
  <app-loading *ngIf="loading"> </app-loading> 
 
</div>

<div class="row">
<div class="col-6"></div>

</div>
<br>
<div class="row">
<p-table #dt [columns]="cols"  [value]="elementos" selectionMode="single" 
[(selection)]="selectedItem"  [scrollable]="true" scrollHeight="400px" >

<ng-template pTemplate="header" let-columns >

  <tr>
      <th  *ngFor="let col of columns" [pSortableColumn]="col.field" pResizableColumn >
          {{col.header}}
          <p-sortIcon [field]="col.field" ariaLabel="Activate to sort" ariaLabelDesc="Activate to sort in descending order" ariaLabelAsc="Activate to sort in ascending order" ></p-sortIcon>
      </th>
      
  </tr>
  <tr>
      <th *ngFor="let col of columns" [ngSwitch]="col.field" >
        
          <input class="form-control col-md-12 form-control-sm " *ngSwitchCase="'obra_social_nombre'" pInputText type="text" (input)="dt.filter($event.target.value, col.field, col.filterMatchMode)" autofocus>
          <input class="form-control col-md-12 form-control-sm" *ngSwitchCase="'codigo'" pInputText type="text" (input)="dt.filter($event.target.value, col.field, col.filterMatchMode)">                      
          <input class="form-control col-md-12 form-control-sm" *ngSwitchCase="'obra_social_practica_nombre'" pInputText type="text" (input)="dt.filter($event.target.value, col.field, col.filterMatchMode)" autofocus>
          <input class="form-control col-md-12 form-control-sm" *ngSwitchCase="'practica_distribucion_valor'" pInputText type="text" (input)="dt.filter($event.target.value, col.field, col.filterMatchMode)">
          <input class="form-control col-md-12 form-control-sm" *ngSwitchCase="'practica_distribucion_porcentaje'" pInputText type="text" (input)="dt.filter($event.target.value, col.field, col.filterMatchMode)">
          <input class="form-control col-md-12 form-control-sm" *ngSwitchCase="'practica_distribucion_total'" pInputText type="text" (input)="dt.filter($event.target.value, col.field, col.filterMatchMode)">   
          
      </th>      
  </tr>
</ng-template>

<ng-template pTemplate="body" let-elementos>
          <tr [pSelectableRow]="elementos" 
                >
              <td>{{elementos.obra_social_nombre}}</td>                                
              <td>{{elementos.codigo}}</td>       
              <td >{{elementos.obra_social_practica_nombre}}</td>      
              <td>{{elementos.practica_distribucion_valor |  number : '1.2-2'}}</td>     
              <td>{{elementos.practica_distribucion_porcentaje}}</td>         
              <td>{{elementos.practica_distribucion_total |  number : '1.2-2'}}</td>                 
          </tr>
</ng-template> 
</p-table>

</div>

<div class="row pt-5">
<div class="col-3"><h4 class="text-success">Total : $ {{totalFacturado |  number : '1.2-2'}} </h4></div>
<div class="col-6"></div>
<div class="col-3"></div>

</div>