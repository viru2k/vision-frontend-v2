<div >
  <app-loading *ngIf="loading"> </app-loading>
  <p-toast (life)="100" styleClass="custom-toast" [style]="{marginTop: '100px'}"></p-toast>
</div>

<div class="row">
  <div class="col-2">

  </div>
  <div class="col-6">

  </div>

  <div class="col-3">
    <div class="col-2 float-right"><button  class=" btn btn-success btn-sm" (click)="guardar()">Guardar</button></div>
  </div>
</div>
<hr>
<div class="row col-md-12 " >

      <div class="col-6">
      <p-listbox [options]="obrasocial" [(ngModel)]="selectedItemObraSocial"  filter="filter"  optionLabel="nombre" (onChange)="onRowObraSocial()" [style]="{'min-width':'300px'}" [listStyle]="{'max-height':'400px'}" autofocus>
          <p-header>
            Obra social
          </p-header>
          <ng-template let-obrasocial   ui-listbox="btn bt-success">
              <span >{{obrasocial.nombre}}</span>

          </ng-template>
        </p-listbox>
      </div>

      <div class="col-6">

         <p-table #dt [columns]="cols" tableStyleClass="prime-table" [value]="medicoObraSocial" selectionMode="single" [resizableColumns]="true" columnResizeMode="expand"
         (onRowSelect)="onRowMedico($event)" [scrollable]="true" scrollHeight="400px"  [style]="{'min-width':'300px'}"  >



              <ng-template pTemplate="header" let-columns >
                  <tr>
                      <th  *ngFor="let col of columns" [pSortableColumn]="col.field"    [ngStyle]="{'width': col.width}" colspan="col.colspan" >
                          {{col.header}}
                          <p-sortIcon [field]="col.field" ariaLabel="Activate to sort" ariaLabelDesc="Activate to sort in descending order" ariaLabelAsc="Activate to sort in ascending order"></p-sortIcon>
                      </th>

                  </tr>
                  <tr>
                      <th *ngFor="let col of columns" [ngSwitch]="col.field" >
                          <input class="form-control col-md-12 form-control-sm" *ngSwitchCase="'apellido'" pInputText type="text" (input)="dt.filter($event.target.value, col.field, col.filterMatchMode)" autofocus>
                          <input class="form-control col-md-12 form-control-sm" *ngSwitchCase="'nombre'" pInputText type="text" (input)="dt.filter($event.target.value, col.field, col.filterMatchMode)">
                      </th>
                  </tr>
              </ng-template>

               <ng-template pTemplate="body" let-medicoObraSocial>
                        <tr [pSelectableRow]="medicoObraSocial">

              <td>{{medicoObraSocial.apellido}}</td>
              <td >{{medicoObraSocial.nombre}}</td>
          </tr>
        </ng-template>
        </p-table>

     <!--    <p-listbox [options]="medicoObraSocial" [(ngModel)]="selectedItemMedico"  filter="filter"   (onChange)="onRowMedico()" [style]="{'min-width':'300px'}" [listStyle]="{'max-height':'400px' }">
          <p-header>
            Medico
          </p-header>

          <ng-template let-medicoObraSocial   ui-listbox="btn bt-success">
                <span >{{medicoObraSocial.apellido}} </span>
            </ng-template>
        </p-listbox> -->
    </div>

  </div>
